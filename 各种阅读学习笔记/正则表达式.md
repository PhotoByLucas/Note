## 正则表达式到底是什么

是一种用来描述规则的表达式，底层原理是使用状态机的思想进行模式匹配。

## 字符

正则表达式的组成元素：**字符** 和 **元字符（特殊字符）**

- 匹配单个字符
  - 匹配 apple 中的 a
    ```
    /a/
    ```
  - 匹配 \*字符 等特殊字符，则需要使用转义元字符\
    ```
    /\*/
    ```
    | 换行符   | 回车符 | 空格  | 制表符 |
    | -------- | ------ | ----- | ------ |
    | \n       | \r     | \s    | \t     |
    | new line | return | space | tab    |
- 匹配多个字符 要引入**集合区间**和**通配符**的方式就可以实现一对多的匹配了。
  |匹配区间|表达式|记忆方式|
  |---|---|---|
  |除了换行符之外的任何字符 |.|句号,除了句子结束符|
  |单个数字, [0-9]|d|digit|
  |除了[0-9]，非数字单个字符|D|not digit|
  |包括下划线在内的单个字符，[A-Za-z0-9_] |w|word|
  |除了[A-Za-z0-9_]的单个字符 |W| not word|
  |匹配空白字符,包括空格、制表符、换页符和换行符|s|space|
  |非空字符|S|not space|

## 循环和重复

根据有限状态机，可以将正则以以下来区分

| 规则            | 元字符        | 记忆方式 |
| --------------- | ------------- | -------- |
| 出现 0 或 1 次  | ?             |          |
| 出现 0 次或更多 | \*            |          |
| 出现 1 次或更多 | +             |          |
| 出现特定次数    | {x},{min,max} |          |

## 位置边界

需要位置边界的匹配。在长文本字符串查找过程中，我们常常需要限制查询的位置。比如我只想在单词的开头结尾查找。

- 单词边界

  匹配长句"The cat scattered his food all over the room."中的"cat"

  ```
  \/bcat/b\
  ```

  需要使用边界正则表达式\b，其中 b 是 boundary 的首字母。在正则引擎里它其实匹配的是能构成单词的字符(\w)和不能构成单词的字符(\W)中间的那个位置。

- 字符串边界
  ```
  I am scq000.
  I am scq000.
  I am scq000.

  // 使用以下来匹配
  /^I am scq000\.$/m
  ```
  元字符^用来匹配字符串的开头。  
  元字符$用来匹配字符串的末尾。  
  m是multiple line是匹配模式，为多行匹配


| 边界和标志      | 元字符        | 记忆方式 |
| --------------- | ------------- | -------- |
| 单词边界  | \b             |      	boundary    |
| 非单词边界  | \B             |      	    |
| 字符串开头	 | ^            |          |
| 字符串结尾	 | $           |          |
| 多行模式    | m | multiple        |
| 忽视大小写模式    | i | ignore        |
| 全局模式，找到所有匹配为止    | g |  global       |
